<?php

/**
 * -----------------------------------------------------------------------------
 * Setup autoloading for vendor components
 * -----------------------------------------------------------------------------
 */
include __DIR__ . '/../vendor/autoload.php';

$app = new Orno\Mvc\Application;

/**
 * -----------------------------------------------------------------------------
 * Load modules
 * -----------------------------------------------------------------------------
 */
$modules = include __DIR__ . '/../config/modules.php';
$app->loadModules($modules);

/**
 * -----------------------------------------------------------------------------
 * Provide configuration for application wide dependencies
 * -----------------------------------------------------------------------------
 */
$dependencies = include __DIR__ . '/../config/dependencies.php';
$app->setDependencyConfig($dependencies);

/**
 * -----------------------------------------------------------------------------
 * Register the application autoloader and routing objects
 * -----------------------------------------------------------------------------
 */
$app->registerAutoloader();
$app->registerRouter();

/**
 * -----------------------------------------------------------------------------
 * Let's Go!
 * -----------------------------------------------------------------------------
 */
$app->run();
